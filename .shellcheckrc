# Shellcheck configuration for kyldvs/k
# https://www.shellcheck.net/wiki/

# Enable all optional checks
enable=all

# Ignore sourced files without shebangs (bootstrap lib components)
# Bootstrap lib files in bootstrap/lib/ are sourced, not executed directly
disable=SC2148

# Ignore unused variables (used in sourced/concatenated scripts)
# Variables may be used in other sourced files or after concatenation
disable=SC2034

# Ignore variables referenced but not assigned (sourced from other files)
# Color variables (KD_*) are sourced from colors.sh
# Config variables are sourced from config-path.sh and vmroot-config-path.sh
disable=SC2154

# Severity threshold: ignore info/style, focus on warnings/errors
# Style issues like SC2250, SC2292, SC2248 are noise - only show errors/warnings
severity=warning

# Disable style-only checks that don't affect correctness
disable=SC2250  # Braces around variables (stylistic)
disable=SC2292  # Prefer [[]] over [] (stylistic)
disable=SC2248  # Prefer quoting numbers (stylistic)
disable=SC2002  # Useless cat (stylistic)
disable=SC2312  # Consider invoking separately (info level)
disable=SC2310  # Function in conditional (info level)
disable=SC1091  # Not following sourced files (expected)
disable=SC3043  # 'local' is undefined in POSIX sh (we use bash)
